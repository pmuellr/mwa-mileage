
//-----------------------------------------------------------------------------
// Copyright (c) 2010 Patrick Mueller
// Licensed under the MIT license: 
// http://www.opensource.org/licenses/mit-license.php
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
class EleFuncs

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
static 
    var elementNames = "H1 H2 H3 H4 H5 H6 " +
                       "UL OL DL LI DT DD " + 
                       "SPAN DIV PRE " +
                       "A IMG + CANVAS " + 
                       "B I TT " +
                       "P HR BR "  + 
                       "TABLE TR TD " +
                       "FORM INPUT BUTTON SELECT OPTGROUP OPTION TEXTAREA"
    
    _(elementNames.split(" ")).each(function(elementName) {
        EleFuncs[elementName] = getElementFunction(elementName)
    })

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
function getElementFunction(elementName)
    return function() {
        return EleFuncs.newElement(elementName)
    }

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
static method newElement(elementName)
    var element = document.createElement(elementName)
    
    var args = _.toArray(arguments)
    args.shift
    
    _(args).each(function(arg) {
        if      (arg.nodeType)           addToElement_Node(   element, arg )
        else if (typeof arg == "string") addToElement_String( element, arg )
        else if (typeof arg == "object") addToElement_Object( element, arg )
        
        else throw new Error("invalid value passed creating element '" + elementName + "'")
    })
    
    return element
    
//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
function addToElement_String(element, aString)
    addToElement_Element(element, document.createTextNode(aString))

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
function addToElement_Node(element, anElement)
    element.appendChild(anElement)

//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------
function addToElement_Object(element, anObject)
    for (var key in anObject) {
        if (!anObject.hasOwnProperty(key)) continue
        
        var val = anObject[key]
        
        if (key.substr(0,1) == "$") {
            var actualKey = key.substr(1)
            element[actualKey] = val
        }
        else {
            element.setAttribute(key, val)
        }
    }
